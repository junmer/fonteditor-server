!function(){var e=this,t={},n=Array.prototype,i=n.slice,r=n.forEach,a=Object.keys,o=function(){},s=o.each=o.forEach=function(e,n,i){if(null!=e)if(r&&e.forEach===r)e.forEach(n,i);else if(e.length===+e.length){for(var a=0,s=e.length;s>a;a++)if(n.call(i,e[a],a,e)===t)return}else for(var u=o.keys(e),a=0,s=u.length;s>a;a++)if(n.call(i,e[u[a]],u[a],e)===t)return};o.keys=a||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)o.has(e,n)&&t.push(n);return t},o.defaults=function(e){return s(i.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e};var u={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}},l={escape:new RegExp("["+o.keys(u.escape).join("")+"]","g")};o.each(["escape"],function(e){o[e]=function(t){return null==t?"":(""+t).replace(l[e],function(t){return u[e][t]})}}),o.templateSettings={evaluate:/\{%([\s\S]+?)%\}/g,interpolate:/\{%=([\s\S]+?)%\}/g,escape:/\{%-([\s\S]+?)%\}/g,innerFn:!0};var f=/(.)^/,c={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},h=/\\|'|\r|\n|\t|\u2028|\u2029/g;o.template=function(e,t,n){var i;n=o.defaults({},n,o.templateSettings);var r=new RegExp([(n.escape||f).source,(n.interpolate||f).source,(n.evaluate||f).source].join("|")+"|$","g"),a=0,s="\n__p+='";e.replace(r,function(t,n,i,r,o){return s+=e.slice(a,o).replace(h,function(e){return"\\"+c[e]}),n&&(s+="'\n+((__t=("+n+"))==null?'':escape(__t))+'"),i&&(s+="'\n+((__t=("+i+"))==null?'':__t)+'"),r&&(s+="';"+r+"\n__p+='"),a=o+t.length,t}),s+="';",n.variable||(s="with(obj||{}){"+s+"}"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return i(t,o);var l=function(e){return i.call(this,e,o)},d="function each(obj, iterator, bind) {var f = Array.prototype.forEach;if(f) {f.call(obj, iterator, bind);}else {for (var i = 0, l = obj.length; i < l; i++) {if (i in obj) {iterator.call(bind, obj[i], i, obj);}}}}",p="function escape(source) {return String(source).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');}",g=n.innerFn===!1?"":d+p;return l.source="function("+(n.variable||"obj")+"){"+g+s+"}",l},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=o),exports.utpl=o):e.utpl=o,"function"==typeof define&&define.amd&&define([],function(){return o})}.call(this);